<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Materialliste â€“ Rohstoff</title>


<style>
  :root {
    --surface: #ffffff;
    --accent: #0067c0;
  }

  /* TAB BAR */
  .tab-bar {
    display: flex;
    gap: 6px;
    padding: 6px;
    background: #eaeaea;
    border-radius: 10px;
    width: fit-content;
    margin-bottom: 12px;
  }

  .tab-btn {
    border: none;
    background: transparent;
    padding: 8px 18px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 500;
    color: #333;
  }

  .tab-btn:hover {
    background: rgba(0,0,0,0.05);
  }

  .tab-btn.active {
    background: var(--surface);
    box-shadow: 0 1px 2px rgba(0,0,0,0.08);
    color: var(--accent);
  }


  .tab-section {
    display: none;
    animation: fadeIn 0.2s ease-in-out;
  }

  .tab-section.active {
    display: block;
  }


</style>

  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<!-- =========================
     LOGIN-BEREICH
========================= -->
<form id="loginForm" onsubmit="login(event)">
    <div id="loginBox">
      <h3>ðŸ”’ Anmeldung erforderlich</h3>
      <input id="userInput" placeholder="Benutzer">
      <input id="passInput" type="password" placeholder="Passwort">
      <button type="submit">Anmelden</button>
    </div>
</form>


<!-- =========================
     GESCHÃœTZTE APP
========================= -->
<div id="app" style="display:none">
  <h2>Materialliste</h2>
        <button  id="resetMaterialDataBtn"  class="admin-btn danger"  onclick="resetMaterialData()" style="display:none">  Initialdaten neu laden</button>
        <button id="themeToggleBtn" onclick="toggleTheme()">ðŸŒ™ Dark Mode</button>
        <!-- Logout sperrt die komplette Liste wieder -->
        <button onclick="logout()">Logout</button>
        <!-- Key-Freischaltung -->
        <input id="keyInput" type="password" placeholder="Key eingeben">
        <button id="unlockBtn" onclick="unlockEditing()">ðŸ”“ Freischalten</button>
        <button onclick="lockEditing()">ðŸ”’ Sperren</button>
        <span id="status"></span>

        <hr>

        <div class="tab-bar">
          <button class="tab-btn" data-tab="ke">Rohstoff Liste</button>
          <button class="tab-btn" data-tab="fs">FS-Tiegel Liste</button>
          <button class="tab-btn" data-tab="fm">FM-SchleifbÃ¤nder</button>
          <button class="tab-btn" data-tab="history">Historie</button>
        </div>
        <hr>
        
        <input id="search" placeholder="Suche (Material, E-Nummer, Regal)">
    <div class="content">
            <!-- =========================
                KE SECTION
            ========================= -->

            <div id="keSection" class="tab-section active">
              <div class="ke-column-controls">
                <label class="locked"><input type="checkbox" checked disabled> Material</label>
                <label><input type="checkbox" data-col="e" checked> E-Nummer</label>
                <label><input type="checkbox" data-col="charge" checked> Charge-Nr.</label>
                <label><input type="checkbox" data-col="palette" checked> Paletten-Nr.</label>
                <label><input type="checkbox" data-col="regal" checked> Regal</label>
                <label><input type="checkbox" data-col="bestand" checked> Bestand</label>
                <label><input type="checkbox" data-col="bemerkung" checked> Bemerkung</label>
              </div>
        <center>
          <!-- Such- & Steuerleiste -->
            <div id="keToolbar">
              <select id="categoryFilter">
                <option value="">Alle Kategorien</option>
              </select>
            </div>
        </center>
              <div class="table-fullwidth">
                <div class="table-scroll">
                  <table class="lager-table KE-table">
                    <thead>
                      <tr>
                        <th></th>
                        <th>Material</th>
                        <th>E-Nummer</th>
                        <th>Charge-Nr.</th>
                        <th>Paletten-Nr.</th>
                        <th>Regal</th>
                        <th>Bestand</th>
                        <th>Bemerkung</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- =========================
                FS SECTION
            ========================= -->
            <div id="fsSection" class="tab-section">
              <div class="fs-column-controls">
                <label><input type="checkbox" data-col="kurz">Kurz</label>
                <label class="locked"><input type="checkbox" checked disabled>Bezeichnung</label>
                <label><input type="checkbox" data-col="material">Material</label>
                <label><input type="checkbox" data-col="stueck" checked>StÃ¼ckzahl</label>
                <label><input type="checkbox" data-col="e" checked>E-Nummer</label>
                <label><input type="checkbox" data-col="kuerzel">KÃ¼rzel</label>
                <label><input type="checkbox" data-col="bestand" checked>Bestand Konsilager</label>
                <label><input type="checkbox" data-col="dpc">DPC</label>
              </div>

              <div class="table-fullwidth">
                <div class="table-scroll">
                  <table class="lager-table fs-table KE-table">
                    <thead>
                      <tr>
                        <th>Kurz</th>
                        <th>Bezeichnung</th>
                        <th>Material</th>
                        <th>StÃ¼ckzahl</th>
                        <th>E-Nummer</th>
                        <th>KÃ¼rzel</th>
                        <th>Bestand Konsilager</th>
                        <th>DPC</th>
                      </tr>
                    </thead>
                    <tbody id="fsTableBody"></tbody>
                  </table>
                </div>
              </div>
            </div> <!-- table-scroll -->
          </div> <!-- table-fullwidth -->
        </div> <!-- âœ… fsSection ENDE -->

            <!-- =========================
                FM SECTION
            ========================= -->
              <section id="fmSection" class="tab-section">

              <!-- Spaltenauswahl -->
              <div class="fm-column-toggle">
                <label><input type="checkbox" data-col="pos1" checked> Pos. #1</label>
                <label><input type="checkbox" data-col="artikel1" checked> Artikel-Nr. #1</label>
                <label><input type="checkbox" data-col="artikel2" checked> Artikel-Nr. #2</label>
                <label><input type="checkbox" data-col="artikel" checked> Artikel</label>
                <label><input type="checkbox" data-col="koernung" checked> KÃ¶rnung</label>
                <label><label class="locked"><input type="checkbox" checked disabled> Abmessung</label>
                <label><input type="checkbox" data-col="verpackung" checked> Verpackung</label>
                <label><input type="checkbox" data-col="lieferung_pr" checked> Lieferung â€“ PR</label>
                <label><input type="checkbox" data-col="bestand" checked> Bestand</label>
                <label><input type="checkbox" data-col="bemerkung" checked> Bemerkung</label>
              </div>

              <!-- Tabelle -->
              <div class="table-fullwidth">
                <div class="table-scroll">
                  <table id="fmTable">
                    <thead>
                      <tr>
                        <th data-col="pos1">Pos. #1</th>
                        <th data-col="artikel1">Artikel-Nr. #1</th>
                        <th data-col="artikel2">Artikel-Nr. #2</th>
                        <th data-col="artikel">Artikel</th>
                        <th data-col="koernung">KÃ¶rnung</th>
                        <th data-col="abmessung">Abmessung</th>
                        <th data-col="verpackung">Verpackung</th>
                        <th data-col="lieferung_pr">Lieferung â€“ PR</th>
                        <th data-col="bestand">Bestand</th>
                         <th data-col="bemerkung">Bemerkung</th>
                      </tr>
                    </thead>
                    <tbody id="fmTableBody"></tbody>
                  </table>
                </div>
              </div>
            </section>

            <!-- =========================
                HISTORY SECTION
            ========================= -->
            <div id="historySection" style="display:none; margin-top:20px;">
              <h3 class="section-title">Ã„nderungshistorie</h3>
              <div class="history-controls">
                <button onclick="toggleHistory()">Historie anzeigen / ausblenden</button>
                <button onclick="clearHistory()">Historie lÃ¶schen</button>
              </div>

              <table id="historyTable" class="lager-table history-table" style="display:none; margin-top:10px;">
                <thead>
                  <tr>
                    <th>Zeit</th>
                    <th>Feld</th>
                    <th>Alt</th>
                    <th>Neu</th>
                  </tr>
                </thead>
                <tbody id="historyBody"></tbody>
              </table>
            </div>
      </div>
</div>



<script src="js/daten_fm.js"></script>
<script src="js/data_store.js"></script>
<script src="js/daten_fs.js"></script>
<script src="js/daten.js"></script>

</body>
</html>
