const DEFAULT_FM_DATA = [
  {
    pos1: 1,
    artikel1: "E00034311",
    artikel2: "E00034067",
    artikel: "052J",
    koernung: "60",
    abmessung: "6 x 610",
    verpackung: "250",
    lieferung_pr: "",
    bestand: 1000,
    pos2: 1,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 2,
    artikel1: "E00034312",
    artikel2: "E00034068",
    artikel: "052J",
    koernung: "80",
    abmessung: "6 x 610",
    verpackung: "250",
    lieferung_pr: "",
    bestand: 0,
    pos2: 2,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 3,
    artikel1: "E00034307",
    artikel2: "E00034066",
    artikel: "052J",
    koernung: "60",
    abmessung: "15 x 457",
    verpackung: "250",
    lieferung_pr: "",
    bestand: 0,
    pos2: 3,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 4,
    artikel1: "E00034308",
    artikel2: "E00034065",
    artikel: "052J",
    koernung: "80",
    abmessung: "15 x 457",
    verpackung: "250",
    lieferung_pr: "",
    bestand: 0,
    pos2: 4,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 5,
    artikel1: "E00034328",
    artikel2: "E00010411",
    artikel: "051XP P50",
    koernung: "50",
    abmessung: "25 x 760",
    verpackung: "50",
    lieferung_pr: "",
    bestand: 450,
    pos2: 5,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 6,
    artikel1: "E00034304",
    artikel2: "E00034072",
    artikel: "052J",
    koernung: "60",
    abmessung: "25 x 760",
    verpackung: "100",
    lieferung_pr: "",
    bestand: 0,
    pos2: 6,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 7,
    artikel1: "E00034305",
    artikel2: "E00034063",
    artikel: "052J",
    koernung: "80",
    abmessung: "25 x 760",
    verpackung: "100",
    lieferung_pr: "",
    bestand: 1500,
    pos2: 7,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 8,
    artikel1: "E00034323",
    artikel2: "E00034061",
    artikel: "051XP",
    koernung: "60",
    abmessung: "50 x 1067",
    verpackung: "10",
    lieferung_pr: "",
    bestand: 1340,
    pos2: 8,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 9,
    artikel1: "E00034317",
    artikel2: "E00034062",
    artikel: "052J",
    koernung: "60",
    abmessung: "50 x 1067",
    verpackung: "20",
    lieferung_pr: "",
    bestand: 570,
    pos2: 9,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 10,
    artikel1: "E00034318",
    artikel2: "E00034071",
    artikel: "052J",
    koernung: "80",
    abmessung: "50 x 1067",
    verpackung: "20",
    lieferung_pr: "",
    bestand: 691,
    pos2: 10,
    bemerkung: "",
    _isDefault: true
  },

  {
    pos1: 11,
    artikel1: "E00034319",
    artikel2: "E00034070",
    artikel: "052J",
    koernung: "100",
    abmessung: "50 x 1067",
    verpackung: "20",
    lieferung_pr: "",
    bestand: 0,
    pos2: 11,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 12,
    artikel1: "E00034320",
    artikel2: "E00034069",
    artikel: "052J",
    koernung: "120",
    abmessung: "50 x 1067",
    verpackung: "20",
    lieferung_pr: "",
    bestand: 0,
    pos2: 12,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 13,
    artikel1: "E00034321",
    artikel2: "E00034068",
    artikel: "052J",
    koernung: "150",
    abmessung: "50 x 1067",
    verpackung: "20",
    lieferung_pr: "",
    bestand: 0,
    pos2: 13,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 14,
    artikel1: "E00034322",
    artikel2: "E00034067",
    artikel: "052J",
    koernung: "180",
    abmessung: "50 x 1067",
    verpackung: "20",
    lieferung_pr: "",
    bestand: 0,
    pos2: 14,
    bemerkung: "",
    _isDefault: true
  },

  {
    pos1: 15,
    artikel1: "E00034309",
    artikel2: "E00034060",
    artikel: "051XP",
    koernung: "60",
    abmessung: "75 x 457",
    verpackung: "10",
    lieferung_pr: "",
    bestand: 0,
    pos2: 15,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 16,
    artikel1: "E00034310",
    artikel2: "E00034059",
    artikel: "051XP",
    koernung: "80",
    abmessung: "75 x 457",
    verpackung: "10",
    lieferung_pr: "",
    bestand: 0,
    pos2: 16,
    bemerkung: "",
    _isDefault: true
  },

  {
    pos1: 17,
    artikel1: "E00034324",
    artikel2: "E00034058",
    artikel: "051XP",
    koernung: "60",
    abmessung: "100 x 914",
    verpackung: "10",
    lieferung_pr: "",
    bestand: 0,
    pos2: 17,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 18,
    artikel1: "E00034325",
    artikel2: "E00034057",
    artikel: "051XP",
    koernung: "80",
    abmessung: "100 x 914",
    verpackung: "10",
    lieferung_pr: "",
    bestand: 0,
    pos2: 18,
    bemerkung: "",
    _isDefault: true
  },

  {
    pos1: 19,
    artikel1: "E00034326",
    artikel2: "E00034056",
    artikel: "051XP",
    koernung: "60",
    abmessung: "100 x 1525",
    verpackung: "10",
    lieferung_pr: "",
    bestand: 0,
    pos2: 19,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 20,
    artikel1: "E00034327",
    artikel2: "E00034055",
    artikel: "051XP",
    koernung: "80",
    abmessung: "100 x 1525",
    verpackung: "10",
    lieferung_pr: "",
    bestand: 0,
    pos2: 20,
    bemerkung: "",
    _isDefault: true
  },

  {
    pos1: 21,
    artikel1: "E00034329",
    artikel2: "E00034054",
    artikel: "051XP",
    koernung: "60",
    abmessung: "150 x 2286",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 21,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 22,
    artikel1: "E00034330",
    artikel2: "E00034053",
    artikel: "051XP",
    koernung: "80",
    abmessung: "150 x 2286",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 22,
    bemerkung: "",
    _isDefault: true
  },

  {
    pos1: 23,
    artikel1: "E00034331",
    artikel2: "E00034052",
    artikel: "051XP",
    koernung: "60",
    abmessung: "200 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 23,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 24,
    artikel1: "E00034332",
    artikel2: "E00034051",
    artikel: "051XP",
    koernung: "80",
    abmessung: "200 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 24,
    bemerkung: "",
    _isDefault: true
  },

  {
    pos1: 25,
    artikel1: "E00034333",
    artikel2: "E00034050",
    artikel: "051XP",
    koernung: "60",
    abmessung: "300 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 25,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 26,
    artikel1: "E00034334",
    artikel2: "E00034049",
    artikel: "051XP",
    koernung: "80",
    abmessung: "300 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 26,
    bemerkung: "",
    _isDefault: true
  },

  {
    pos1: 27,
    artikel1: "E00034335",
    artikel2: "E00034048",
    artikel: "051XP",
    koernung: "60",
    abmessung: "400 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 27,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 28,
    artikel1: "E00034336",
    artikel2: "E00034047",
    artikel: "051XP",
    koernung: "80",
    abmessung: "400 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 28,
    bemerkung: "",
    _isDefault: true
  },

  {
    pos1: 29,
    artikel1: "E00034337",
    artikel2: "E00034046",
    artikel: "051XP",
    koernung: "60",
    abmessung: "600 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 29,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 30,
    artikel1: "E00034338",
    artikel2: "E00034045",
    artikel: "051XP",
    koernung: "80",
    abmessung: "600 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 30,
    bemerkung: "",
    _isDefault: true
  },

  {
    pos1: 31,
    artikel1: "E00034339",
    artikel2: "E00034044",
    artikel: "051XP",
    koernung: "60",
    abmessung: "800 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 31,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 32,
    artikel1: "E00034340",
    artikel2: "E00034043",
    artikel: "051XP",
    koernung: "80",
    abmessung: "800 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 32,
    bemerkung: "",
    _isDefault: true
  },

  {
    pos1: 33,
    artikel1: "E00034341",
    artikel2: "E00034042",
    artikel: "051XP",
    koernung: "60",
    abmessung: "1000 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 33,
    bemerkung: "",
    _isDefault: true
  },
  {
    pos1: 34,
    artikel1: "E00034342",
    artikel2: "E00034041",
    artikel: "051XP",
    koernung: "80",
    abmessung: "1000 x 3048",
    verpackung: "5",
    lieferung_pr: "",
    bestand: 0,
    pos2: 34,
    bemerkung: "",
    _isDefault: true
  }
];

/* Daten â€“ Storage & Default */
const STORAGE_KEY_FM = "fm_data";

let fmData = [];

function loadFMData() {
  const stored = localStorage.getItem(STORAGE_KEY_FM);
  fmData = stored ? JSON.parse(stored) : structuredClone(DEFAULT_FM_DATA);
}

function saveFMData() {
  localStorage.setItem(STORAGE_KEY_FM, JSON.stringify(fmData));
}

function setTabCount(tab, count) {
  const btn = document.querySelector(`.tab-btn[data-tab="${tab}"]`);
  if (!btn) return;

  const base = btn.textContent.replace(/\s*\(\d+\)$/, "");

  if (count > 0 && globalSearchTerm) {
    btn.textContent = `${base} (${count})`;
  } else {
    btn.textContent = base;
  }
}
